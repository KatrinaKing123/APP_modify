%% 电机可选机型

% 附件1

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SPEED & TORQUE RANGES over which data is defined
Motor_PE_80 = struct;
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% mc_map_spd = [0 1500 2200 3000 4500 6000 7500 9000];
Motor_PE_80.mc_map_spd = [0 500 	1000 	1500 	2000 	2500 	3000 	3500 	4000 	4500 	5000 	6000 	7000 	8000 	9000 	10000 	11000 	12000 	13000];
% w_EM_row = mc_map_spd *(2*pi/60);
% mc_map_trq=[-125 -105 -95 -85 -75 -65 -55 -45 -30 -15 -5 ...
% 	0 5 15 30 45 55 65 75 85 95 105 125];
% mc_map_trq=[-125 -105 -95 -85 -75 -65 -55 -45 -30 -15 -5 ...
%  	0 5 15 30 45 55 65 75 85 95 105 125]

Motor_PE_80.mc_map_trq =fliplr([330
325
310
290
270
250
230
210
190
170
150
140
130
120
110
100
90
80
70
60
50
40
30
20
10
-10
-20
-30
-40
-50
-60
-70
-80
-90
-100
-110
-120
-130
-140
-150
-170
-190
-210
-230
-250
-270
-290
-310
-325
-330
]') ;
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% EFFICIENCY AND INPUT POWER MAPS 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% mc_eff_map =[...
% 0.32	0.37	0.4	0.46	0.49	0.51	0.50	0.49	0.48	0.45	0.40	0.1	0.40	0.45	0.48	0.49	0.50	0.51	0.49	0.46	0.40	0.37	0.32    % 0
% 0.707	0.71	0.74	0.74	0.75	0.754	0.76	0.755	0.75	0.72	0.62	0.1	0.62	0.72	0.75	0.755	0.76	0.754	0.75	0.74	0.74	0.71	0.707   % 1500
% 0.707	0.71	0.74	0.74	0.75	0.754	0.76	0.755	0.75	0.72	0.62	0.1	0.62	0.72	0.75	0.755	0.76	0.754	0.75	0.74	0.74	0.71	0.707   % 2200
% 0.707	0.82	0.83	0.834	0.844	0.842	0.842	0.843	0.83	0.785	0.70	0.1	0.70	0.785	0.83	0.843	0.842	0.842	0.844	0.834	0.83	0.822	0.707   % 3000
% 0.707	0.82	0.83	0.834	0.844	0.803	0.84	0.847	0.855	0.817	0.71	0.1	0.71	0.817	0.855	0.847	0.84	0.803	0.844	0.834	0.83	0.822	0.707   % 4500
% 0.707	0.82	0.83	0.834	0.844	0.803	0.84	0.741	0.84	0.84	0.74	0.1	0.74	0.84	0.84	0.741 0.84	0.803	0.844	0.834 0.83	0.822	0.707   % 6000
% 0.707	0.82	0.83	0.834	0.844	0.803	0.84	0.741	0.825	0.825	0.76	0.1	0.76	0.825	0.825	0.741	0.84	0.803	0.844	0.834	0.83	0.822	0.707   % 7500
% 0.707	0.82	0.83	0.834	0.844	0.803	0.84	0.741	0.825	0.825	0.76	0.1	0.76	0.825	0.825	0.741	0.84	0.803	0.844	0.834	0.83	0.822	0.707]; % 9000

Motor_PE_80.mc_eff_map = [...
0.5697 	0.6808 	0.7919 	0.8394 	0.8657 	0.8859 	0.9010 	0.9121 	0.9202 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
0.5734 	0.6828 	0.7922 	0.8396 	0.8667 	0.8871 	0.9016 	0.9128 	0.9211 	0.9328 	nan	nan	nan	nan	nan	nan	nan	nan	nan
0.5832 	0.6920 	0.8008 	0.8452 	0.8709 	0.8909 	0.9045 	0.9155 	0.9234 	0.9343 	0.9404 	nan	nan	nan	nan	nan	nan	nan	nan
0.6008 	0.7053 	0.8097 	0.8526 	0.8769 	0.8959 	0.9087 	0.9194 	0.9172 	0.9354 	0.9441 	nan	nan	nan	nan	nan	nan	nan	nan
0.6109 	0.7136 	0.8164 	0.8599 	0.8817 	0.8997 	0.9123 	0.9225 	0.9289 	0.9367 	0.9462 	0.9447 	nan	nan	nan	nan	nan	nan	nan
0.6283 	0.7262 	0.8240 	0.8662 	0.8861 	0.9038 	0.9159 	0.9251 	0.9316 	0.9381 	0.9472 	0.9488 	nan	nan	nan	nan	nan	nan	nan
0.6453 	0.7383 	0.8313 	0.8718 	0.8912 	0.9068 	0.9187 	0.9279 	0.9344 	0.9401 	0.9481 	0.9522 	0.9449 	nan	nan	nan	nan	nan	nan
0.6533 	0.7456 	0.8379 	0.8776 	0.8946 	0.9099 	0.9218 	0.9318 	0.9362 	0.9418 	0.9489 	0.9548 	0.9498 	0.9440 	nan	nan	nan	nan	nan
0.6630 	0.7538 	0.8446 	0.8829 	0.8976 	0.9132 	0.9251 	0.9319 	0.9372 	0.9423 	0.9496 	0.9570 	0.9536 	0.9465 	0.9370 	nan	nan	nan	nan
0.6784 	0.7648 	0.8512 	0.8871 	0.9008 	0.9154 	0.9263 	0.9331 	0.9387 	0.9437 	0.9475 	0.9587 	0.9560 	0.9504 	0.9421 	nan	nan	nan	nan
0.6890 	0.7726 	0.8563 	0.8917 	0.9031 	0.9171 	0.9270 	0.9361 	0.9401 	0.9440 	0.9479 	0.9583 	0.9577 	0.9533 	0.9465 	0.9364 	0.9247 	nan	nan
0.6961 	0.7776 	0.8591 	0.8947 	0.9046 	0.9185 	0.9279 	0.9345 	0.9403 	0.9442 	0.9483 	0.9580 	0.9584 	0.9550 	0.9490 	0.9413 	0.9340 	0.9203 	nan
0.7006 	0.7812 	0.8618 	0.8948 	0.9058 	0.9196 	0.9281 	0.9347 	0.9402 	0.9443 	0.9473 	0.9579 	0.9584 	0.9549 	0.9499 	0.9463 	0.9371 	0.9266 	nan
0.7054 	0.7850 	0.8645 	0.8967 	0.9063 	0.9201 	0.9281 	0.9347 	0.9398 	0.9441 	0.9476 	0.9572 	0.9587 	0.9555 	0.9505 	0.9455 	0.9388 	0.9316 	0.9162 
0.7123 	0.7897 	0.8670 	0.8984 	0.9068 	0.9209 	0.9287 	0.9302 	0.9398 	0.9439 	0.9469 	0.9548 	0.9585 	0.9548 	0.9507 	0.9450 	0.9400 	0.9326 	0.9256 
0.7149 	0.7923 	0.8696 	0.8990 	0.9074 	0.9204 	0.9281 	0.9342 	0.9394 	0.9422 	0.9461 	0.9530 	0.9580 	0.9544 	0.9508 	0.9456 	0.9395 	0.9337 	0.9274 
0.7193 	0.7955 	0.8716 	0.9003 	0.9082 	0.9194 	0.9281 	0.9335 	0.9384 	0.9417 	0.9447 	0.9499 	0.9564 	0.9538 	0.9498 	0.9443 	0.9394 	0.9331 	0.9266 
0.7287 	0.8008 	0.8729 	0.9010 	0.9075 	0.9208 	0.9277 	0.9331 	0.9373 	0.9409 	0.9442 	0.9478 	0.9546 	0.9530 	0.9480 	0.9440 	0.9373 	0.9305 	0.9246 
0.7327 	0.8037 	0.8748 	0.9025 	0.9073 	0.9193 	0.9267 	0.9319 	0.9355 	0.9139 	0.9416 	0.9429 	0.9512 	0.9503 	0.9460 	0.9408 	0.9339 	0.9280 	0.9211 
0.7352 	0.8062 	0.8773 	0.9031 	0.9073 	0.9184 	0.9251 	0.9297 	0.9331 	0.9371 	0.9395 	0.9403 	0.9457 	0.9465 	0.9412 	0.9364 	0.9285 	0.9209 	0.9156 
0.7438 	0.8105 	0.8772 	0.9017 	0.8848 	0.9148 	0.9217 	0.9263 	0.9303 	0.9340 	0.9334 	0.9357 	0.9401 	0.9401 	0.9328 	0.9296 	0.9208 	0.9117 	0.9053 
0.7442 	0.8105 	0.8769 	0.8992 	0.9003 	0.9098 	0.9160 	0.9204 	0.9209 	0.9238 	0.9277 	0.9263 	0.9277 	0.9306 	0.9274 	0.9169 	0.9085 	0.8962 	0.8876 
0.7421 	0.8057 	0.8693 	0.8923 	0.8924 	0.9004 	0.9068 	0.9098 	0.8868 	0.9136 	0.9155 	0.9123 	0.9138 	0.9135 	0.9077 	0.8980 	0.8850 	0.8724 	0.8618 
0.7373 	0.7976 	0.8579 	0.8750 	0.8758 	0.8839 	0.8879 	0.8896 	0.8894 	0.8892 	0.8898 	0.8870 	0.8824 	0.8740 	0.8725 	0.8583 	0.8410 	0.8178 	0.8063 
0.6935 	0.7542 	0.8149 	0.8258 	0.8243 	0.8188 	0.8301 	0.8296 	0.8296 	0.8240 	0.8048 	0.8003 	0.7968 	0.7753 	0.7595 	0.7430 	0.7154 	0.6820 	0.6909 
0.6515 	0.7224 	0.7933 	0.8089 	0.8009 	0.8163 	0.8091 	0.8119 	0.8100 	0.8044 	0.8002 	0.7946 	0.7814 	0.7627 	0.7457 	0.7247 	0.6905 	0.6251 	0.5939 
0.6787 	0.7615 	0.8443 	0.8687 	0.8626 	0.8778 	0.8786 	0.8843 	0.8843 	0.9015 	0.8813 	0.8794 	0.8944 	0.8711 	0.9023 	0.8445 	0.8265 	0.8192 	0.7844 
0.6826 	0.7705 	0.8585 	0.8854 	0.8808 	0.8925 	0.9025 	0.9068 	0.9244 	0.9068 	0.9078 	0.9225 	0.9361 	0.9436 	0.9023 	0.8898 	0.8776 	0.8634 	0.8496 
0.6720 	0.7674 	0.8627 	0.8917 	0.8921 	0.9034 	0.9121 	0.9159 	0.9179 	0.9201 	0.9566 	0.9233 	0.9243 	0.9270 	0.9211 	0.9121 	0.9128 	0.9031 	0.8808 
0.6649 	0.7639 	0.8630 	0.8943 	0.8968 	0.9092 	0.9168 	0.9225 	0.9384 	0.9278 	0.9303 	0.9320 	0.9315 	0.9358 	0.9426 	0.9495 	0.9178 	0.9071 	0.8984 
0.6553 	0.7587 	0.8621 	0.8950 	0.8990 	0.9120 	0.9200 	0.9262 	0.9292 	0.9323 	0.9351 	0.9377 	0.9396 	0.9576 	0.9410 	0.9347 	0.9260 	0.9171 	0.9101 
0.6448 	0.7525 	0.8602 	0.8945 	0.9006 	0.9133 	0.9222 	0.9295 	0.9322 	0.9354 	0.9385 	0.9604 	0.9460 	0.9471 	0.9451 	0.9379 	0.9316 	0.9247 	0.9181 
0.6347 	0.7461 	0.8574 	0.8936 	0.9005 	0.9144 	0.9234 	0.9298 	0.9340 	0.9376 	0.9407 	0.9441 	0.9513 	0.9519 	0.9475 	0.9411 	0.9542 	0.9290 	0.9228 
0.6200 	0.7372 	0.8544 	0.8924 	0.9004 	0.9150 	0.9241 	0.9307 	0.9354 	0.9389 	0.9570 	0.9461 	0.9542 	0.9535 	0.9487 	0.9563 	0.9380 	0.9316 	0.9257 
0.6138 	0.7331 	0.8523 	0.8910 	0.9001 	0.9147 	0.9244 	0.9315 	0.9362 	0.9578 	0.9432 	0.9477 	0.9546 	0.9535 	0.9496 	0.9448 	0.9390 	0.9333 	0.9270 
0.5946 	0.7218 	0.8490 	0.8894 	0.8998 	0.9144 	0.9245 	0.9317 	0.9368 	0.9408 	0.9441 	0.9488 	0.9550 	0.9635 	0.9500 	0.9454 	0.9397 	0.9338 	0.9276 
0.5881 	0.7170 	0.8459 	0.8876 	0.8989 	0.9140 	0.9243 	0.9468 	0.9369 	0.9414 	0.9448 	0.9507 	0.9678 	0.9538 	0.9498 	0.9447 	0.9395 	0.9329 	0.9273 
0.5747 	0.7087 	0.8428 	0.8857 	0.8981 	0.9133 	0.9240 	0.9312 	0.9369 	0.9416 	0.9451 	0.9518 	0.9554 	0.9535 	0.9490 	0.9436 	0.9384 	0.9323 	nan
0.5683 	0.7039 	0.8394 	0.8836 	0.8967 	0.9125 	0.9234 	0.9311 	0.9369 	0.9416 	0.9452 	0.9786 	0.9551 	0.9529 	0.9483 	0.9429 	0.9359 	0.9306 	nan
0.5593 	0.6975 	0.8356 	0.8814 	0.8954 	0.9113 	0.9227 	0.9307 	0.9364 	0.9413 	0.9452 	0.9538 	0.9548 	0.9521 	0.9470 	0.9408 	0.9336 	nan	nan
0.5359 	0.6818 	0.8277 	0.8763 	0.8920 	0.9179 	0.9211 	0.9296 	0.9357 	0.9407 	0.9445 	0.9535 	0.9533 	0.9498 	0.9441 	0.9456 	nan	nan	nan
0.5130 	0.6663 	0.8197 	0.8707 	0.8893 	0.9064 	0.9191 	0.9280 	0.9345 	0.9399 	0.9439 	0.9528 	0.9516 	0.9468 	nan	nan	nan	nan	nan
0.4879 	0.6496 	0.8113 	0.8644 	0.8849 	0.9036 	0.9165 	0.9260 	0.9329 	0.9385 	0.9427 	0.9514 	0.9491 	0.9456 	nan	nan	nan	nan	nan
0.4602 	0.6311 	0.8020 	0.8577 	0.8808 	0.9001 	0.9137 	0.9236 	0.9309 	0.9366 	0.9417 	0.9493 	0.9452 	nan	nan	nan	nan	nan	nan
0.4479 	0.6213 	0.7947 	0.8506 	0.8761 	0.8962 	0.9104 	0.9210 	0.9284 	0.9345 	0.9403 	0.9466 	nan	nan	nan	nan	nan	nan	nan
0.3994 	0.5915 	0.7835 	0.8428 	0.8709 	0.8919 	0.9068 	0.9179 	0.9257 	0.9320 	0.9387 	0.9438 	nan	nan	nan	nan	nan	nan	nan
0.3672 	0.5696 	0.7721 	0.8345 	0.8659 	0.8873 	0.9032 	0.9148 	0.9227 	0.9295 	0.9369 	nan	nan	nan	nan	nan	nan	nan	nan
0.3334 	0.5464 	0.7593 	0.8246 	0.8590 	0.8815 	0.8988 	0.9107 	0.9194 	0.9262 	0.9347 	nan	nan	nan	nan	nan	nan	nan	nan
0.3042 	0.5264 	0.7487 	0.8164 	0.8533 	0.8773 	0.8949 	0.9075 	0.9166 	0.9238 	nan	nan	nan	nan	nan	nan	nan	nan	nan
0.3040 	0.5263 	0.7485 	0.8162 	0.8525 	0.8768 	0.8939 	0.9071 	0.9162 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
]';


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% LIMITS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Motor_PE_80.mc_max_spd_dr = [0 500	1000	2000	3000	3500	4000	4500	5000	6000	7000	8000	9000	10000	11000	12000	13000];
% mc_max_trq=[124 124  124  92   62    45   35   28]; % (N*m)
Motor_PE_80.mc_max_trq_dr = [330 330 330	330	330	330	330	325	315	271	232	203	181	163	147	136	123]; %Nm

Motor_PE_80.mc_max_spd_br = [500	1000	2000	3000	3500	4000	4500	5000	6000	7000	8000	9000	10000	11000	12000	13000]; %rpm
% mc_max_gen_trq=-1*[124 124  124  92   62    45   35   28]; % (N*m), estimate
Motor_PE_80.mc_max_gen_trq=[-330	-330	-330	-330	-330	-330	-325	-315	-271	-232	-203	-181	-163	-147	-136	-123]; % (N*m)
% mc_overtrq_factor=1; % (--), estimated

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OTHER DATA
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% mc_mass = 58;
Motor_PE_80.name = 'Motor_Pe_80';

% 峰值功率
Motor_PE_80.mc_max_P = 1570; % kw

% 额定功率
Motor_PE_80.mc_PE = 80; % KW

% 峰值扭矩
Motor_PE_80.mc_max_trq_dr_value = 330; % Nm

Motor_name.('Motor_PE_80')='Motor_PE_80';

%% 用于DP计算的
Motor_PE_80.Speed =  [0 500	1000	2000	3000	3500	4000	4500	5000	6000	7000	8000	9000	10000	11000	12000	13000]*(2*pi/60);
Motor_PE_80.W_Row = Motor_PE_80.mc_map_spd*(2*pi/60);

Motor_PE_80.T_Col = Motor_PE_80.mc_map_trq;
Motor_PE_80.Trq_Max = [330 330 330	330	330	330	330	325	315	271	232	203	181	163	147	136	123]; 
Motor_PE_80.Trq_Min = Motor_PE_80.Trq_Max * -1;

Motor_PE_80.Eff_map = Motor_PE_80.mc_eff_map';

if Choose_model == 1
    Motor{end+1} = Motor_PE_80;
else
    Motor{1,1} = Motor_PE_80;
end