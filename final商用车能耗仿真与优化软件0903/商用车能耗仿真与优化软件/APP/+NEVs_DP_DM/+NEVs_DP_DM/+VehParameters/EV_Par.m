%% Electric Vehicle Parameters 
% Authors    : Wei Zhou, Lin Yang, Yishan Cai, Tianxing Ying
% Date        : 2018-03-20 21:21:40
% Organization: Shanghai JiaoTong University

%% Simulation Step Time
Ts = 1;                                                                    % Unit: s

%% Vehicle Parameters
% Par_Veh.Gravity = 9.81;                                                    % Gravitational acceleration, Unit: m/s^2
% Par_Veh.Air_Density =1.2;                                                  % Air Density, Unit: kg/m^3
% Par_Veh.M_F = 2840;                                                        % Weight, Unit: kg      
% Par_Veh.Cd = 0.188;                                                         % Air Resistance Coefficient
% Par_Veh.A_F = 2.22;                                                        % Windward Area, Unit: m^2
% Par_Veh.Mu = 0.01;                                                       % Rolling Resistance Coefficient
% Par_Veh.Grade = 0;                                                         % Rotation Coefficient
% Par_Veh.mt2m_f = 0.08;
% Par_Veh.L = 3.76;                                                         % Front and back axis length, Unit: m
% Par_Veh.a = 1.735;                                                         % Center line distance of the center of mass to the center of the front axis, Unit: m
% Par_Veh.b = Par_Veh.L - Par_Veh.a ;                                        % Center line distance of the center of mass to the center of the rear axle, Unit: m
% Par_Veh.hg = 0.77;                                                        % Centroid Height, Unit: m
% Par_Veh.Coefficient = 0.8;                                                 % Road adhesion coefficient

Par_Veh.Gravity = g;                                                    % Gravitational acceleration, Unit: m/s^2
Par_Veh.Air_Density =1.2;                                                  % Air Density, Unit: kg/m^3
Par_Veh.M_F = GVW_n;                                                        % Weight, Unit: kg      
Par_Veh.Cd = Cd;                                                         % Air Resistance Coefficient
Par_Veh.A_F = A;                                                        % Windward Area, Unit: m^2
Par_Veh.Mu = f;                                                       % Rolling Resistance Coefficient
Par_Veh.Grade = 0;                                                         % Rotation Coefficient
Par_Veh.mt2m_f = delta-1;
Par_Veh.L = Line/1000;                                                         % Front and back axis length, Unit: m
Par_Veh.a = Forward/1000;                                                         % Center line distance of the center of mass to the center of the front axis, Unit: m
Par_Veh.b = Par_Veh.L - Par_Veh.a ;                                        % Center line distance of the center of mass to the center of the rear axle, Unit: m
Par_Veh.hg = he/100;                                                        % Centroid Height, Unit: m
Par_Veh.Coefficient = 0.8;                                                 % Road adhesion coefficient
%% Brake Parameters
% Par_Brake.Beta = (Par_Veh.Coefficient * Par_Veh.hg + Par_Veh.b) / Par_Veh.L; % Braking force distribution
Par_Brake.Brake_Speed_Limit = 10;                                            % When Speed is lower than 10 km/h, mechanical braking 
Par_Brake.Elec_Brake_Dec_Limit = -2;                                         % When Dec is lower than -2 m/s^2, mechanical braking 

%% Wheel Parameters  
Par_Wheel.R = r0;                                           % Wheel Radius, Unit: m

%% Final Parameters
Par_Finala.Ratio = i0;     % Drive ratio of main decelerator
Par_Finalb.Ratio = i0;      
Par_Finala.Eff = nt;                                          % Efficiency
Par_Finalb.Eff = nt;    
%% Gearbox Parameters 
% Par_Gear.Index = [1 2 3 4 5];                                       % Drive ratio of main decelerator
% Par_Gear.Ratio = [6.9 4.13 2.45 1.49 1.00];                                          % Efficiency
% Par_Gear.Eff = 0.97;

%% Motor Parameters
% Speed1 = [0
% 1000 
% 1500 
% 2000 
% 2500 
% 3000 
% 3500 
% 4000 
% 4500 
% 5000 
% 5500 
% 6000 
% 6500 
% 7000 
% 7500 
% 8000 
% 8500 
% 9000 
% 9500 
% 10000 
% 10500 
% 11000 
% 11500 
% 12000 
% 12500 
% 13000 
% 13500 
% 14000 
% 14500 
% 15000 
% ]'*(2*pi/60); % Unit: rad/s
% % 电机转速换算为角速度
% Torq_Max1 = [185
% 185 
% 185 
% 185 
% 185 
% 185 
% 185 
% 185 
% 185 
% 172 
% 158 
% 145 
% 135 
% 125 
% 115 
% 108 
% 100 
% 94 
% 90 
% 85 
% 80 
% 76 
% 72 
% 68 
% 65 
% 62 
% 59 
% 56 
% 53 
% 49 
% ]' ;     % Unit: Nm
% Torq_Min1 = -1*[185 
% 185 
% 185
% 185 
% 185 
% 185 
% 185 
% 185 
% 185 
% 172 
% 158 
% 145 
% 135 
% 125 
% 115 
% 108 
% 100 
% 94 
% 90 
% 85 
% 80 
% 76 
% 72 
% 68 
% 65 
% 62 
% 59 
% 56 
% 53 
% 49 
% ]';                                           % Unit: Nm
% %最大力矩（正）和最小力矩（负）
% 
%  T_col1=fliplr([190
% 180
% 170
% 160
% 150
% 140
% 130
% 120
% 110
% 100
% 90
% 80
% 70
% 60
% 50
% 40
% 30
% 20
% 10
% -10
% -20
% -30
% -40
% -50
% -60
% -70
% -80
% -90
% -100
% -110
% -120
% -130
% -140
% -150
% -160
% -170
% -180
% -190
% ]');                 
% Eff_map_1=0.01 * [...
% 55.98 	61.14 	69.88 	75.04 	78.44 	81.09 	83.14 	84.33 	85.92 	87.36 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 58.56 	63.44 	71.76 	76.64 	79.87 	82.40 	84.29 	85.63 	86.87 	87.81 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 60.84 	65.45 	73.47 	78.08 	81.17 	83.45 	85.32 	86.57 	87.68 	88.58 	89.57 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 62.81 	67.19 	74.96 	79.34 	82.22 	84.43 	86.19 	87.36 	88.41 	89.15 	89.98 	90.42 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 64.61 	68.84 	76.27 	80.50 	83.27 	85.27 	86.94 	88.06 	88.99 	89.72 	90.49 	90.66 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 66.42 	70.46 	77.43 	81.47 	84.12 	86.07 	87.58 	88.62 	89.52 	90.22 	90.98 	91.37 	90.85 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 68.00 	71.79 	78.55 	82.35 	84.86 	86.71 	88.22 	89.14 	89.97 	90.64 	91.33 	91.91 	91.61 	90.83 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 69.55 	73.17 	79.58 	83.20 	85.56 	87.29 	88.74 	89.64 	90.40 	91.07 	91.71 	92.19 	92.27 	91.56 	89.89 	90.00 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 70.91 	74.39 	80.44 	83.92 	86.17 	87.86 	89.26 	90.10 	90.79 	91.41 	91.96 	92.56 	92.86 	92.64 	91.59 	90.96 	90.54 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 72.24 	75.55 	81.34 	84.65 	86.72 	88.34 	89.67 	90.43 	91.11 	91.74 	92.24 	92.80 	93.11 	92.95 	92.58 	92.37 	91.23 	89.66 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 73.42 	76.50 	82.10 	85.19 	87.29 	88.75 	90.04 	90.76 	91.42 	91.98 	92.44 	92.95 	93.39 	93.38 	93.17 	93.14 	92.67 	91.68 	90.04 	91.25 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 74.80 	77.74 	82.77 	85.71 	87.77 	89.17 	90.41 	91.02 	91.66 	92.27 	92.71 	93.06 	93.42 	93.75 	93.74 	93.83 	93.45 	92.99 	92.38 	91.47 	90.85 	90.33 	nan	nan	nan	nan	nan	nan	nan	nan
% 75.78 	78.44 	83.56 	86.23 	88.21 	89.48 	90.66 	91.30 	91.88 	92.46 	92.92 	93.21 	93.69 	93.94 	93.83 	94.00 	93.91 	93.71 	93.27 	92.64 	92.36 	91.17 	90.39 	90.04 	90.31 	89.99 	nan	nan	nan	nan
% 77.14 	79.66 	84.21 	86.73 	88.62 	89.80 	90.96 	91.56 	92.07 	92.58 	93.03 	93.34 	93.66 	94.03 	94.07 	94.44 	94.31 	94.21 	93.82 	94.06 	93.72 	93.50 	92.83 	92.60 	91.45 	90.64 	90.48 	90.33 	90.07 	nan
% 78.09 	80.40 	84.94 	87.25 	89.04 	90.21 	91.30 	91.76 	92.17 	92.71 	93.20 	93.49 	93.73 	93.83 	94.24 	94.67 	94.41 	94.59 	94.34 	94.01 	93.90 	93.78 	93.81 	93.45 	93.11 	92.61 	92.53 	91.69 	90.79 	nan
% 79.45 	81.66 	85.65 	87.86 	89.31 	90.47 	91.56 	91.93 	92.21 	92.86 	93.18 	93.55 	93.76 	93.98 	94.00 	94.45 	94.45 	94.49 	94.66 	94.42 	94.36 	94.13 	93.84 	93.59 	93.44 	93.26 	93.15 	93.10 	92.97 	87.87 
% 80.83 	82.73 	86.34 	88.25 	89.71 	90.77 	91.78 	92.08 	92.21 	92.86 	93.23 	93.29 	93.53 	93.86 	93.92 	94.25 	94.49 	94.31 	94.41 	94.34 	94.23 	94.62 	94.04 	93.65 	93.14 	93.62 	92.98 	92.94 	92.52 	91.58 
% 82.55 	84.26 	86.97 	88.68 	89.91 	90.94 	91.94 	91.89 	91.97 	92.54 	92.96 	93.14 	93.07 	93.23 	93.27 	93.32 	93.64 	93.84 	93.86 	93.93 	93.80 	93.95 	93.58 	93.13 	93.23 	92.87 	92.48 	92.75 	91.40 	93.22 
% 83.66 	84.84 	87.12 	88.31 	89.24 	90.13 	91.85 	91.07 	90.91 	91.62 	91.68 	91.92 	91.44 	91.96 	92.25 	91.70 	92.20 	92.49 	92.23 	92.04 	92.38 	92.09 	90.84 	91.62 	91.43 	90.83 	89.21 	89.59 	90.96 	89.23 
% 84.52 	86.26 	87.38 	89.12 	89.71 	89.76 	91.01 	90.86 	90.51 	90.96 	91.11 	91.02 	90.87 	90.66 	90.23 	90.22 	89.88 	90.13 	90.29 	91.66 	90.66 	88.18 	88.89 	88.81 	89.35 	88.52 	88.40 	88.67 	88.33 	87.64 
% 81.40 	83.53 	86.46 	88.59 	90.01 	90.59 	91.69 	91.86 	92.04 	92.44 	92.32 	92.62 	92.80 	93.04 	92.47 	92.93 	92.94 	93.19 	93.19 	93.63 	93.49 	92.72 	92.72 	92.78 	92.43 	92.63 	92.45 	92.07 	92.36 	91.18 
% 78.23 	80.83 	85.22 	87.82 	89.12 	90.22 	91.58 	91.73 	91.92 	92.52 	92.76 	92.83 	92.96 	93.22 	93.25 	93.36 	93.50 	93.64 	93.83 	93.62 	93.85 	93.59 	93.44 	93.23 	93.26 	93.35 	92.94 	92.91 	92.95 	93.17 
% 76.29 	79.15 	84.15 	87.01 	88.60 	89.87 	91.05 	91.28 	91.78 	92.34 	92.76 	92.93 	93.20 	93.50 	93.41 	93.61 	93.57 	93.98 	93.95 	93.95 	93.85 	93.89 	93.93 	93.83 	93.51 	93.43 	93.52 	93.33 	93.18 	93.06 
% 74.28 	77.39 	83.24 	86.35 	88.07 	89.48 	90.61 	91.16 	91.76 	92.21 	92.64 	92.99 	93.10 	93.43 	93.39 	93.60 	93.96 	94.00 	93.96 	94.20 	94.06 	93.84 	93.64 	93.61 	93.37 	93.22 	93.22 	93.11 	92.72 	92.98 
% 72.70 	75.83 	82.29 	85.42 	87.55 	89.04 	90.30 	90.87 	91.49 	92.11 	92.45 	92.79 	92.98 	93.40 	93.55 	93.68 	93.83 	93.82 	93.80 	93.97 	93.71 	93.60 	93.37 	93.18 	92.95 	92.64 	92.35 	92.23 	92.48 	92.85 
% 71.04 	74.54 	81.31 	84.81 	87.04 	88.56 	89.91 	90.52 	91.26 	91.78 	92.31 	92.71 	92.84 	93.18 	93.46 	93.50 	93.61 	93.50 	93.49 	93.40 	93.01 	93.24 	92.73 	92.36 	92.51 	92.43 	nan	nan	nan	nan
% 68.90 	72.75 	80.25 	84.09 	86.51 	88.13 	89.45 	90.19 	90.91 	91.49 	92.09 	92.49 	92.54 	92.99 	92.99 	93.22 	93.43 	93.29 	92.97 	92.86 	92.57 	92.87 	92.62 	nan	nan	nan	nan	nan	nan	nan
% 67.01 	71.13 	79.16 	83.28 	85.83 	87.63 	89.00 	89.82 	90.65 	91.27 	91.80 	92.25 	92.36 	93.01 	92.96 	92.94 	92.93 	92.69 	92.26 	92.62 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 65.09 	69.40 	78.07 	82.38 	85.19 	87.05 	88.53 	89.39 	90.21 	90.96 	91.44 	91.96 	92.06 	92.73 	92.68 	92.55 	92.42 	92.09 	92.20 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 62.70 	67.36 	76.79 	81.45 	84.40 	86.43 	87.97 	88.98 	89.83 	90.48 	91.17 	91.53 	91.85 	92.36 	92.02 	91.88 	91.99 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 60.28 	65.25 	75.41 	80.38 	83.57 	85.76 	87.31 	88.39 	89.39 	90.12 	90.53 	91.32 	91.51 	91.93 	91.53 	91.63 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 57.45 	62.87 	73.84 	79.26 	82.64 	84.97 	86.66 	87.87 	88.89 	89.64 	90.28 	90.83 	91.07 	91.53 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 54.44 	60.28 	72.08 	77.92 	81.59 	84.07 	85.90 	87.19 	88.31 	89.07 	89.79 	90.42 	90.56 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 51.12 	57.43 	70.13 	76.43 	80.43 	83.09 	85.02 	86.44 	87.62 	88.43 	89.25 	90.02 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 47.15 	54.04 	67.88 	74.76 	79.14 	81.94 	83.99 	85.58 	86.86 	87.72 	88.61 	89.91 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 42.47 	50.02 	65.24 	72.79 	77.50 	80.59 	82.81 	84.48 	85.97 	86.92 	88.14 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 37.04 	45.38 	62.15 	70.49 	75.70 	79.04 	81.46 	83.27 	84.89 	85.96 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 30.92 	40.15 	58.57 	67.80 	73.48 	77.23 	79.92 	81.93 	83.64 	85.54 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% ];
% 
% Speed2 = [0 500 	1000 	1500 	2000 	2500 	3000 	3500 	4000 	4500 	5000 	6000 	7000 	8000 	9000 	10000 	11000 	12000 	13000]*(2*pi/60);
% T_col2 = fliplr([330
% 325
% 310
% 290
% 270
% 250
% 230
% 210
% 190
% 170
% 150
% 140
% 130
% 120
% 110
% 100
% 90
% 80
% 70
% 60
% 50
% 40
% 30
% 20
% 10
% -10
% -20
% -30
% -40
% -50
% -60
% -70
% -80
% -90
% -100
% -110
% -120
% -130
% -140
% -150
% -170
% -190
% -210
% -230
% -250
% -270
% -290
% -310
% -325
% -330
% ]') ;
%  Eff_map_2=[...
% 0.5697 	0.6808 	0.7919 	0.8394 	0.8657 	0.8859 	0.9010 	0.9121 	0.9202 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 0.5734 	0.6828 	0.7922 	0.8396 	0.8667 	0.8871 	0.9016 	0.9128 	0.9211 	0.9328 	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 0.5832 	0.6920 	0.8008 	0.8452 	0.8709 	0.8909 	0.9045 	0.9155 	0.9234 	0.9343 	0.9404 	nan	nan	nan	nan	nan	nan	nan	nan
% 0.6008 	0.7053 	0.8097 	0.8526 	0.8769 	0.8959 	0.9087 	0.9194 	0.9172 	0.9354 	0.9441 	nan	nan	nan	nan	nan	nan	nan	nan
% 0.6109 	0.7136 	0.8164 	0.8599 	0.8817 	0.8997 	0.9123 	0.9225 	0.9289 	0.9367 	0.9462 	0.9447 	nan	nan	nan	nan	nan	nan	nan
% 0.6283 	0.7262 	0.8240 	0.8662 	0.8861 	0.9038 	0.9159 	0.9251 	0.9316 	0.9381 	0.9472 	0.9488 	nan	nan	nan	nan	nan	nan	nan
% 0.6453 	0.7383 	0.8313 	0.8718 	0.8912 	0.9068 	0.9187 	0.9279 	0.9344 	0.9401 	0.9481 	0.9522 	0.9449 	nan	nan	nan	nan	nan	nan
% 0.6533 	0.7456 	0.8379 	0.8776 	0.8946 	0.9099 	0.9218 	0.9318 	0.9362 	0.9418 	0.9489 	0.9548 	0.9498 	0.9440 	nan	nan	nan	nan	nan
% 0.6630 	0.7538 	0.8446 	0.8829 	0.8976 	0.9132 	0.9251 	0.9319 	0.9372 	0.9423 	0.9496 	0.9570 	0.9536 	0.9465 	0.9370 	nan	nan	nan	nan
% 0.6784 	0.7648 	0.8512 	0.8871 	0.9008 	0.9154 	0.9263 	0.9331 	0.9387 	0.9437 	0.9475 	0.9587 	0.9560 	0.9504 	0.9421 	nan	nan	nan	nan
% 0.6890 	0.7726 	0.8563 	0.8917 	0.9031 	0.9171 	0.9270 	0.9361 	0.9401 	0.9440 	0.9479 	0.9583 	0.9577 	0.9533 	0.9465 	0.9364 	0.9247 	nan	nan
% 0.6961 	0.7776 	0.8591 	0.8947 	0.9046 	0.9185 	0.9279 	0.9345 	0.9403 	0.9442 	0.9483 	0.9580 	0.9584 	0.9550 	0.9490 	0.9413 	0.9340 	0.9203 	nan
% 0.7006 	0.7812 	0.8618 	0.8948 	0.9058 	0.9196 	0.9281 	0.9347 	0.9402 	0.9443 	0.9473 	0.9579 	0.9584 	0.9549 	0.9499 	0.9463 	0.9371 	0.9266 	nan
% 0.7054 	0.7850 	0.8645 	0.8967 	0.9063 	0.9201 	0.9281 	0.9347 	0.9398 	0.9441 	0.9476 	0.9572 	0.9587 	0.9555 	0.9505 	0.9455 	0.9388 	0.9316 	0.9162 
% 0.7123 	0.7897 	0.8670 	0.8984 	0.9068 	0.9209 	0.9287 	0.9302 	0.9398 	0.9439 	0.9469 	0.9548 	0.9585 	0.9548 	0.9507 	0.9450 	0.9400 	0.9326 	0.9256 
% 0.7149 	0.7923 	0.8696 	0.8990 	0.9074 	0.9204 	0.9281 	0.9342 	0.9394 	0.9422 	0.9461 	0.9530 	0.9580 	0.9544 	0.9508 	0.9456 	0.9395 	0.9337 	0.9274 
% 0.7193 	0.7955 	0.8716 	0.9003 	0.9082 	0.9194 	0.9281 	0.9335 	0.9384 	0.9417 	0.9447 	0.9499 	0.9564 	0.9538 	0.9498 	0.9443 	0.9394 	0.9331 	0.9266 
% 0.7287 	0.8008 	0.8729 	0.9010 	0.9075 	0.9208 	0.9277 	0.9331 	0.9373 	0.9409 	0.9442 	0.9478 	0.9546 	0.9530 	0.9480 	0.9440 	0.9373 	0.9305 	0.9246 
% 0.7327 	0.8037 	0.8748 	0.9025 	0.9073 	0.9193 	0.9267 	0.9319 	0.9355 	0.9139 	0.9416 	0.9429 	0.9512 	0.9503 	0.9460 	0.9408 	0.9339 	0.9280 	0.9211 
% 0.7352 	0.8062 	0.8773 	0.9031 	0.9073 	0.9184 	0.9251 	0.9297 	0.9331 	0.9371 	0.9395 	0.9403 	0.9457 	0.9465 	0.9412 	0.9364 	0.9285 	0.9209 	0.9156 
% 0.7438 	0.8105 	0.8772 	0.9017 	0.8848 	0.9148 	0.9217 	0.9263 	0.9303 	0.9340 	0.9334 	0.9357 	0.9401 	0.9401 	0.9328 	0.9296 	0.9208 	0.9117 	0.9053 
% 0.7442 	0.8105 	0.8769 	0.8992 	0.9003 	0.9098 	0.9160 	0.9204 	0.9209 	0.9238 	0.9277 	0.9263 	0.9277 	0.9306 	0.9274 	0.9169 	0.9085 	0.8962 	0.8876 
% 0.7421 	0.8057 	0.8693 	0.8923 	0.8924 	0.9004 	0.9068 	0.9098 	0.8868 	0.9136 	0.9155 	0.9123 	0.9138 	0.9135 	0.9077 	0.8980 	0.8850 	0.8724 	0.8618 
% 0.7373 	0.7976 	0.8579 	0.8750 	0.8758 	0.8839 	0.8879 	0.8896 	0.8894 	0.8892 	0.8898 	0.8870 	0.8824 	0.8740 	0.8725 	0.8583 	0.8410 	0.8178 	0.8063 
% 0.6935 	0.7542 	0.8149 	0.8258 	0.8243 	0.8188 	0.8301 	0.8296 	0.8296 	0.8240 	0.8048 	0.8003 	0.7968 	0.7753 	0.7595 	0.7430 	0.7154 	0.6820 	0.6909 
% 0.6515 	0.7224 	0.7933 	0.8089 	0.8009 	0.8163 	0.8091 	0.8119 	0.8100 	0.8044 	0.8002 	0.7946 	0.7814 	0.7627 	0.7457 	0.7247 	0.6905 	0.6251 	0.5939 
% 0.6787 	0.7615 	0.8443 	0.8687 	0.8626 	0.8778 	0.8786 	0.8843 	0.8843 	0.9015 	0.8813 	0.8794 	0.8944 	0.8711 	0.9023 	0.8445 	0.8265 	0.8192 	0.7844 
% 0.6826 	0.7705 	0.8585 	0.8854 	0.8808 	0.8925 	0.9025 	0.9068 	0.9244 	0.9068 	0.9078 	0.9225 	0.9361 	0.9436 	0.9023 	0.8898 	0.8776 	0.8634 	0.8496 
% 0.6720 	0.7674 	0.8627 	0.8917 	0.8921 	0.9034 	0.9121 	0.9159 	0.9179 	0.9201 	0.9566 	0.9233 	0.9243 	0.9270 	0.9211 	0.9121 	0.9128 	0.9031 	0.8808 
% 0.6649 	0.7639 	0.8630 	0.8943 	0.8968 	0.9092 	0.9168 	0.9225 	0.9384 	0.9278 	0.9303 	0.9320 	0.9315 	0.9358 	0.9426 	0.9495 	0.9178 	0.9071 	0.8984 
% 0.6553 	0.7587 	0.8621 	0.8950 	0.8990 	0.9120 	0.9200 	0.9262 	0.9292 	0.9323 	0.9351 	0.9377 	0.9396 	0.9576 	0.9410 	0.9347 	0.9260 	0.9171 	0.9101 
% 0.6448 	0.7525 	0.8602 	0.8945 	0.9006 	0.9133 	0.9222 	0.9295 	0.9322 	0.9354 	0.9385 	0.9604 	0.9460 	0.9471 	0.9451 	0.9379 	0.9316 	0.9247 	0.9181 
% 0.6347 	0.7461 	0.8574 	0.8936 	0.9005 	0.9144 	0.9234 	0.9298 	0.9340 	0.9376 	0.9407 	0.9441 	0.9513 	0.9519 	0.9475 	0.9411 	0.9542 	0.9290 	0.9228 
% 0.6200 	0.7372 	0.8544 	0.8924 	0.9004 	0.9150 	0.9241 	0.9307 	0.9354 	0.9389 	0.9570 	0.9461 	0.9542 	0.9535 	0.9487 	0.9563 	0.9380 	0.9316 	0.9257 
% 0.6138 	0.7331 	0.8523 	0.8910 	0.9001 	0.9147 	0.9244 	0.9315 	0.9362 	0.9578 	0.9432 	0.9477 	0.9546 	0.9535 	0.9496 	0.9448 	0.9390 	0.9333 	0.9270 
% 0.5946 	0.7218 	0.8490 	0.8894 	0.8998 	0.9144 	0.9245 	0.9317 	0.9368 	0.9408 	0.9441 	0.9488 	0.9550 	0.9635 	0.9500 	0.9454 	0.9397 	0.9338 	0.9276 
% 0.5881 	0.7170 	0.8459 	0.8876 	0.8989 	0.9140 	0.9243 	0.9468 	0.9369 	0.9414 	0.9448 	0.9507 	0.9678 	0.9538 	0.9498 	0.9447 	0.9395 	0.9329 	0.9273 
% 0.5747 	0.7087 	0.8428 	0.8857 	0.8981 	0.9133 	0.9240 	0.9312 	0.9369 	0.9416 	0.9451 	0.9518 	0.9554 	0.9535 	0.9490 	0.9436 	0.9384 	0.9323 	nan
% 0.5683 	0.7039 	0.8394 	0.8836 	0.8967 	0.9125 	0.9234 	0.9311 	0.9369 	0.9416 	0.9452 	0.9786 	0.9551 	0.9529 	0.9483 	0.9429 	0.9359 	0.9306 	nan
% 0.5593 	0.6975 	0.8356 	0.8814 	0.8954 	0.9113 	0.9227 	0.9307 	0.9364 	0.9413 	0.9452 	0.9538 	0.9548 	0.9521 	0.9470 	0.9408 	0.9336 	nan	nan
% 0.5359 	0.6818 	0.8277 	0.8763 	0.8920 	0.9179 	0.9211 	0.9296 	0.9357 	0.9407 	0.9445 	0.9535 	0.9533 	0.9498 	0.9441 	0.9456 	nan	nan	nan
% 0.5130 	0.6663 	0.8197 	0.8707 	0.8893 	0.9064 	0.9191 	0.9280 	0.9345 	0.9399 	0.9439 	0.9528 	0.9516 	0.9468 	nan	nan	nan	nan	nan
% 0.4879 	0.6496 	0.8113 	0.8644 	0.8849 	0.9036 	0.9165 	0.9260 	0.9329 	0.9385 	0.9427 	0.9514 	0.9491 	0.9456 	nan	nan	nan	nan	nan
% 0.4602 	0.6311 	0.8020 	0.8577 	0.8808 	0.9001 	0.9137 	0.9236 	0.9309 	0.9366 	0.9417 	0.9493 	0.9452 	nan	nan	nan	nan	nan	nan
% 0.4479 	0.6213 	0.7947 	0.8506 	0.8761 	0.8962 	0.9104 	0.9210 	0.9284 	0.9345 	0.9403 	0.9466 	nan	nan	nan	nan	nan	nan	nan
% 0.3994 	0.5915 	0.7835 	0.8428 	0.8709 	0.8919 	0.9068 	0.9179 	0.9257 	0.9320 	0.9387 	0.9438 	nan	nan	nan	nan	nan	nan	nan
% 0.3672 	0.5696 	0.7721 	0.8345 	0.8659 	0.8873 	0.9032 	0.9148 	0.9227 	0.9295 	0.9369 	nan	nan	nan	nan	nan	nan	nan	nan
% 0.3334 	0.5464 	0.7593 	0.8246 	0.8590 	0.8815 	0.8988 	0.9107 	0.9194 	0.9262 	0.9347 	nan	nan	nan	nan	nan	nan	nan	nan
% 0.3042 	0.5264 	0.7487 	0.8164 	0.8533 	0.8773 	0.8949 	0.9075 	0.9166 	0.9238 	nan	nan	nan	nan	nan	nan	nan	nan	nan
% 0.3040 	0.5263 	0.7485 	0.8162 	0.8525 	0.8768 	0.8939 	0.9071 	0.9162 	nan	nan	nan	nan	nan	nan	nan	nan	nan	nan
% ];
% Torq_Min2= [-330 -330 -330 -330 -330 -330	-330	-330	-330	-325	-315	-271	-232	-203	-181	-163	-147	-136	-123];
% Torq_Max2= [330 330 330	330 330 330	330	330	330	325	315	271	232	203	181	163	147	136	123]; %Nm
% 
% Par_Motor1.Speed = Speed1;
% Par_Motor1.W_Row = Speed1;
% Par_Motor1.T_Col = T_col1;
% Par_Motor1.Trq_Min = Torq_Min1;
% Par_Motor1.Trq_Max = Torq_Max1;
% Par_Motor1.Eff_map = Eff_map_1;%又转置回去？
% 
% Par_Motor2.Speed = Speed2;
% Par_Motor2.W_Row = Speed2;
% Par_Motor2.T_Col = T_col2;
% Par_Motor2.Trq_Min = Torq_Min2;
% Par_Motor2.Trq_Max = Torq_Max2;
% Par_Motor2.Eff_map = Eff_map_2;

Par_Motor1 = Match_selected{1, matchIndex}.Motor_Front_Par;
Par_Motor2 = Match_selected{1, matchIndex}.Motor_Rear_Par;
%% Battery Parameters
% Par_Batt.ESS_SOC = 0.1:.1:0.9;
% % Par_Batt.ESS_SOC = 0:0.05:1;
% % Par_Batt.ESS_VOC = fliplr([360.5256 360.234 358.6572 356.616 356.1084 355.8816 355.104 352.1556 349.4124]); 
% Par_Batt.ESS_VOC = fliplr([4.125 
% 
% 3.997 
% 
% 3.884 
% 
% 3.780 
% 
% 3.676 
% 
% 3.632 
% 
% 3.602 
% 3.551 
% 3.473 
% ]') * 95.946;
% % Par_Batt.ESS_R_D = fliplr([0.259286 0.247857 0.235714 0.227143 0.223571 0.221429 0.22 0.217143 0.212143]);
% Par_Batt.ESS_R_D = fliplr([0.63
% 0.62
% 0.61
% 0.60
% 0.60
% 0.60
% 0.61
% 0.80
% 1.00
% ]') * 10^(-3) * 95.945;
% Par_Batt.ESS_R_C = fliplr([0.67
% 0.65
% 0.65
% 0.65
% 0.64
% 0.64
% 0.64
% 0.68
% 0.71
% ]')* 10^(-3) * 95.945;
% % Par_Batt.Q_Ah = 40;
% Par_Batt.Q_Ah = 153;
% Par_Batt.Col_Eff = 1;    
% Par_Batt.Ts = Ts;
% % Par_Batt.SOC_Max = 0.90;
% Par_Batt.SOC_Max = 0.975;
% % Par_Batt.SOC_Min = 0.20;
% Par_Batt.SOC_Min = 0.05;
% % Par_Batt.P_Batt_Max = 100000;
% Par_Batt.P_Batt_Max = 208000;
% % Par_Batt.P_Batt_Min = -20000;
% Par_Batt.P_Batt_Min = -10300;
% % Par_Batt.I_Max = 2000;
% Par_Batt.I_Max = 775;
% % Par_Batt.I_Min = -2000;
% Par_Batt.I_Min = -320;

Par_Batt = Match_selected{1, matchIndex}.BattPar;
%% Other Parameters
Paux =1000;
